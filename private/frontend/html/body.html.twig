<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Referrer-Policy" content="no-referrer, strict-origin-when-cross-origin">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#343a40">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="/style/bootstrap-4.5.3.min.css">
    <link type="text/css" rel="stylesheet" href="/style/bootstrap-vue-2.18.0.min.css" />
    <link type="text/css" rel="stylesheet" href="/style/bootstrap-vue-icons-2.18.0.min.css" />
    <link rel="stylesheet" href="/style/fontawesome-5.15.1.min.css">
    <link rel="stylesheet" href="/style/ekko-lightbox-5.3.0.css">
    <link rel="stylesheet" href="/style/photoswipe.css">
    <link rel="stylesheet" href="/style/photoswipe-default-skin/default-skin.css">
    <link rel="stylesheet" href="/style/theme-1.2.3.css">
    <script src="/script/vue-2.6.12.js"></script>
    <script src="/script/vue-loaders-4.1.1.umd.js"></script>
    <script src="/script/vue-router-3.4.7.min.js"></script>
    <script src="/script/vue-resource-1.5.1.min.js"></script>
    <script src="/script/sortable-1.1.0.min.js"></script>
    <script src="/script/vuedraggable-2.24.3.umd.min.js"></script>
    <script src="/script/bootstrap-vue-2.18.0.min.js"></script>
    <script src="/script/bootstrap-vue-icons-2.18.0.min.js"></script>
    <script src="/script/moment-2.29.1.min.js"></script>
    <script src="/script/lodash-4.17.20.min.js"></script>
    <script src="/script/i18n/rc-de-1.2.9.js"></script>
    <script src="/script/photoswipe.min.js"></script>
    <script src="/script/photoswipe-ui-default.min.js"></script>
    {{ Header.JS|raw }}
    <title>{{ Config.Page('Title') }}</title>
  </head>

  <body>

    <div id="vue-app">
      <rc-navbar :page="page" :user="user"></rc-navbar>
      <main>
        <b-container class="page" fluid
          v-bind:class="{'p-0': true, 'pl-0': user.loggedIn === false, 'sidebar-visible': page.sidebar.visible}"> <!-- page -->
          <sidebar :page="page" v-if="user.loggedIn"></sidebar>
          <b-container class="page-wrapper p-0" fluid> <!-- page-wrapper -->
            <b-container class="page-header-wrapper p-0"
              v-if="user.loggedIn"> <!-- page-header-wrapper -->
            </b-container> <!-- page-header-wrapper -->
            {% include 'common/content-container.html.twig' %}
          </b-container> <!-- page-wrapper -->
        </b-container> <!-- page -->
      </main>
      <div class="modal modal-danger" tabindex="-1" role="dialog" id="action-failed-modal">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" v-text="$t('modals.failed.head')"></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p class="my-0">${ page.modals.failedModal.message }</p>
              <p class="text-small my-0">Code: ${ page.modals.failedModal.code }</p>
            </div>
            <div class="modal-footer">
              <rc-button :title="$t('modals.failed.close')" data-dismiss="modal"></rc-button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="reactive-size-spy-lg" class="d-none d-lg-block"></div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <!-- photoswipe -->
        <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
        <div class="pswp__bg"></div>
        <!-- Slides wrapper with overflow:hidden. -->
        <div class="pswp__scroll-wrap">
            <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <!--  Controls are self-explanatory. Order can be changed. -->
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                          <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                          </div>
                        </div>
                    </div>
                </div>
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                </button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                </button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div> <!-- photoswipe -->

    {% include 'templates/home.html.twig' %}
    {% include 'templates/body/rc-button.html.twig' %}
    {% include 'templates/body/rc-navbar.html.twig' %}
    {% include 'templates/body/body-elements.html.twig' %}
    {% include 'templates/recipe/recipe.html.twig' %}
    {% include 'templates/recipe-gallery/gallery.html.twig' %}
    {% include 'templates/write-recipe/form.html.twig' %}
    {% include 'templates/recipes/recipes-listing-template.html.twig' %}
    {% include 'templates/search/search.html.twig' %}
    {% include 'templates/user/login.html.twig' %}
    {% include 'templates/user/logout.html.twig' %}
    {% include 'js-common-data.js.twig' %}

    <script src="/script/jquery-3.5.1.min.js"></script>
    <script src="/script/bootstrap-4.5.3.bundle.min.js"></script>
    <script src="/script/ekko-lightbox-5.3.0.min.js"></script>
    <script src="/script/plotly-1.54.1.min.js"></script>
    <script src="/script/vue-i18n-8.22.1.min.js"></script>
    <script src="/script/vue-i18n-locales-1.2.0.js"></script>

    <script src="/script/vue-custom-1.2.7.js"></script>

    <script>

      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });

      $(document).ready(function() {

        $(document).on('click', '[data-toggle="lightbox"]:not([data-gallery="navigateTo"])', function(event) {
          event.preventDefault();
          return $(this).ekkoLightbox({
            alwaysShowClose: true
          });
        });

      });

    </script>
  </body>

</html>

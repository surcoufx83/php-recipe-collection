<script>
  moment.locale('{{ Config.Defaults("Locale") }}');
  const CommonData = {
    code: 0,
    config: {
      login: {
        defaultEnabled: {% if Config.Users('LoginMethods', 'Password') == true %}true{% else %}false{% endif %},
        oauth2Enabled: {% if Config.Users('LoginMethods', 'OAuth2') == true %}true{% else %}false{% endif %}

      },
      maintenanceEnabled: {% if Config.System('MaintenanceMode') == true %}true{% else %}false{% endif %}

    },
    forward: { },
    i18nmessage: '',
    message: '',
    page: {
      contentData: {
        actions: [],
        breadcrumbs: [],
        filters: [],
        hasActions: false,
        hasFilters: false
      },
      currentRecipe: {
        id: 0,
        name: '',
        created: 0,
        description: '',
        eaterCount: 0,
        eaterCountCalc: 0,
        ownerId: 0,
        ownerName: '',
        ownerProperties: {
          recipeCount: 0
        },
        published: false,
        source: {
          description: '',
          url: ''
        },
        pictures: [],
        preparation: {
          ingredients: [],
          steps: [],
          timeConsumed: {
            cooking: 0,
            preparing: 0,
            rest: 0,
            total: 0,
            unit: 'minutes'
          }
        },
        socials: {
          cookedCounter: 0,
          ratedCounter: 0,
          ratedSum: 0,
          viewCounter: 0,
          votedCounter: 0,
          votedSum: 0,
          votedAvg0: 0,
          votedAvg1: 0
        },
        tags: []
      },
      customContent: {
        count: 0,
        itemsPerPage: {{ Config.Defaults("Lists", "Entries") }},
        page: 0,
        pages: 0,
        records: []
      },
      draggingActive: false,
      iconSet: {
      {% for key in Config.getIconKeys() %}
        {{ key }}: { icon: '{{ Config.getIcon(key).icon }}', space: '{{ Config.getIcon(key).space }}' }{% if loop.last == false %},{% endif %}

      {% endfor %}
      },
      loading: false,
      loadingTime: 0,
      updating: false,
      modals: {
        failedModal: {
          code: 0,
          message: ''
        }
      },
      response: {
        actionParam: ''
      },
      search: {
        filter: {
          global: '',
          ingredients: '',
          maxTime: 0,
          options: {
            onlyWithComments: false,
            onlyWithPic: false
          },
          rating: 0,
          sortBy: '',
          tags: '',
          title: '',
          user: '',
          voting: 0,
          hasFocus: false
        },
        hasSearchCompleted: false,
        isSearching: false,
        records: {
          total: 0,
          numpages: 0,
          page: 0
        },
        results: []
      },
      self: {
        currentVote: {
          cooked: -1,
          rating: -1,
          voting: -1
        },
        hasVoted: false,
        lastVote: {
          id: 0,
          userId: 0,
          user: '',
          time: '',
          comment: '',
          cooked: false,
          voting: 0,
          rating: 0
        },
        visitCount: 0,
        voteCount: 0
      },
      sidebar: {
        initialVisible: true,
        visible: true
      }
    },
    success: true,
    user: {% if Controller.isAuthenticated() == false %}{ id: 0, name: '' }
    {% else %}{{ Controller.User().getJsonObj(false)|json_encode|raw }}{% endif %}
}
</script>
